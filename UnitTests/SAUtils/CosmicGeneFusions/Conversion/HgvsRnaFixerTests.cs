using SAUtils.CosmicGeneFusions.Conversion;
using Xunit;

namespace UnitTests.SAUtils.CosmicGeneFusions.Conversion
{
    public sealed class HgvsRnaFixerTests
    {
        [Theory]
        [InlineData("ENST00000415083.2(SS18):r.1_1286_ENST00000415083.2(SS18):r.1286+683_1286+701_ENST00000336777.5(SSX2):r.351_1410",
            "ENST00000415083.2(SS18):r.1_1286::ENST00000415083.2(SS18):r.1286+683_1286+701::ENST00000336777.5(SSX2):r.351_1410")]
        [InlineData("ENST00000397938.2(EWSR1):r.1_1293_ENST00000397938.2(EWSR1):r.1332_1364_ENST00000527786.2(FLI1):r.1079_4127",
            "ENST00000397938.2(EWSR1):r.1_1293::ENST00000397938.2(EWSR1):r.1332_1364::ENST00000527786.2(FLI1):r.1079_4127")]
        [InlineData("ENST00000397938.2(EWSR1):r.1_1293_ENST00000397938.2(EWSR1):r.1293+1627_1293+1656_insU_ENST00000310015.6(SP3):r.2389_6359",
            "ENST00000397938.2(EWSR1):r.1_1293::ENST00000397938.2(EWSR1):r.1293+1627_1293+1656_insU::ENST00000310015.6(SP3):r.2389_6359")]
        [InlineData("ENST00000397938.2(EWSR1):r.1_545_insAAGGGACCAGUACAG_ENST00000397938.2(EWSR1):r.546_1112_ENST00000332351.3(WT1):r.1535_3122",
            "ENST00000397938.2(EWSR1):r.1_545_insAAGGGACCAGUACAG::ENST00000397938.2(EWSR1):r.546_1112::ENST00000332351.3(WT1):r.1535_3122")]
        [InlineData("ENST00000254108.7(FUS):r.1_727_ENST00000254108.7(FUS):r.904+1322_904+1354inv_ENST00000330387.6(CREB3L2):r.936_7412",
            "ENST00000254108.7(FUS):r.1_727::ENST00000254108.7(FUS):r.904+1322_904+1354inv::ENST00000330387.6(CREB3L2):r.936_7412")]
        [InlineData("ENST00000429538.3(PAX8):r.?_ENST00000287820.6(PPARG):r.?", "ENST00000429538.3(PAX8):r.?::ENST00000287820.6(PPARG):r.?")]
        public void CorrectHgvsNotationUsingRegex_ExpectedResults(string originalHgvs, string expectedHgvs)
        {
            string actualHgvs = HgvsRnaFixer.Fix(originalHgvs);
            Assert.Equal(expectedHgvs, actualHgvs);
        }
    }
}